const db = firebase.firestore();

// Enum-type thing to make code more readable
const day = {
    MON: 0,
    TUE: 1,
    WED: 2,
    THU: 3,
    FRI: 4,
    SAT: 5,
    SUN: 6
}

// Hard-coded subject codes
const subjectCodes = ["ACC", "ACINTY", "ACTSC", "AE", "AFM", "AHS",
    "AMATH", "ANTH", "APPLS", "ARABIC", "ARBUS", "ARCH", "ARTS", "ASL",
    "AVIA", "BASE", "BE", "BET", "BIOL", "BLKST", "BME", "BUS", "CDNST",
    "CFM", "CHE", "CHEM", "CHINA", "CI", "CIVE", "CLAS", "CM", "CMW",
    "CO", "COGSCI", "COMM", "COMMST", "COOP", "CROAT", "CS", "CT",
    "DAC", "DATSC", "DEI", "DM", "DUTCH", "EARTH", "EASIA", "ECDEV",
    "ECE", "ECON", "EMLS", "ENBUS", "ENGL", "ENVE", "ENVS", "ERS",
    "FINE", "FR", "GBDA", "GEMCC", "GENE", "GEOE", "GEOG", "GER",
    "GERON", "GGOV", "GRK", "GS", "GSJ", "HEALTH", "HIST", "HLTH",
    "HRM", "HRTS", "HSG", "HUMSC", "INDENT", "INDEV", "INDG", "INTEG",
    "INTST", "ITAL", "ITALST", "JAPAN", "JS", "KIN", "KOREA", "LAT",
    "LS", "MATBUS", "MATH", "ME", "MEDVL", "MENN", "MGMT", "MNS",
    "MOHAWK", "MSCI", "MTE", "MTHEL", "MUSIC", "NANO", "NE", "OPTOM",
    "PACS", "PD", "PDARCH", "PDPHRM", "PHARM", "PHIL", "PHYS", "PLAN",
    "PMATH", "PORT", "PS", "PSCI", "PSYCH", "QIC", "REC", "REES", "RS",
    "RUSS", "SCBUS", "SCI", "SDS", "SE", "SFM", "SI", "SMF", "SOC",
    "SOCWK", "SPAN", "SPCOM", "STAT", "STV", "SUSM", "SWK", "SWREN",
    "SYDE", "TAX", "THPERF", "TN", "TOUR", "TS", "UN", "UNIV", "VCULT",
    "WATER", "WKRPT", "WS"];

// Catalog numbers corresponding to subject codes
const catalogNumbers = [
        ["610", "611", "625", "626", "627", "650", "662", "680", "681", "690", "701", "702", "750", "760", "770", "771", "772", "781", "784", "682", "622", "623", "621", "604", "605", "606", "607", "609", "683", "652", "684", "685", "800", "782", "783", "640"],
        ["600", "610", "620", "630", "640", "650", "660"],
        ["970", "971", "972", "855", "961", "991", "992", "221", "231", "232", "331", "463", "363", "432", "454", "446", "453", "690", "445", "845", "846", "963", "964", "965", "371", "973", "966", "291", "391", "471", "372", "455", "611", "612", "613", "614", "615", "622", "623", "624", "625", "631", "632", "633", "634", "635", "621", "974", "468", "469", "489", "895", "962", "900", "870", "431", "854"],
        ["100", "101", "104", "105", "115", "121", "125", "200", "204", "205", "221", "223", "224", "225", "265", "279", "280", "300", "301", "303", "310", "315", "325", "353", "392", "400", "405", "425", "450", "491", "123", "199", "298", "299", "398", "399", "498", "499", "495", "497", "377", "572", "573"],
        ["123", "131", "231", "291", "273", "274", "382", "391", "401", "415", "433", "341", "451", "424", "491", "241", "442", "443", "101", "373", "482", "102", "473", "322", "425", "276", "272", "275", "476", "333", "121", "321", "323", "417", "416", "477", "422", "202", "203", "204", "211", "280", "311", "362", "434", "478", "363", "462", "483", "484", "418", "328", "329", "428", "429", "479", "423", "463", "344", "444", "100", "377", "200", "111", "112", "132", "205", "206", "207", "208", "212", "244", "324", "334", "113", "326", "426", "470", "182", "191", "347", "345", "346", "335", "480", "485", "427", "446", "447", "445", "448"],
        ["782"],
        ["731", "751", "753", "855", "863", "867", "873", "877", "741", "231", "250", "331", "332", "343", "351", "353", "361", "373", "451", "453", "455", "456", "463", "473", "475", "495", "874", "655", "663", "673", "675", "875", "732", "777", "851", "900", "242", "442", "342", "871", "382", "872", "391", "876", "740", "350", "881", "882", "271", "251", "390", "383", "477", "474", "674", "651", "653", "656", "677", "840", "841", "642"],
        ["201", "202", "309", "233", "290", "300", "311", "320", "321", "322", "330", "345", "350", "365", "391", "489", "499A", "499B", "272", "335", "440", "355", "347", "455", "371", "600", "614", "608", "655", "662", "605", "660", "395", "604", "348", "303", "661", "659", "305", "100", "204", "381", "372", "382", "430", "447", "498", "415", "465", "241", "221", "222", "245", "289", "389", "377", "647", "105", "106", "292", "251", "331"],
        ["304R", "205R", "306R", "301"],
        ["101R", "102R", "201R", "202R", "301R", "302R", "120R", "410R"],
        ["102", "101", "202", "301", "400", "300", "200", "302", "303"],
        ["110", "113", "142", "143", "260", "172", "174", "192", "193", "327", "246", "173", "274", "276", "284", "285", "292", "293", "345", "248", "362", "126", "374", "375", "384", "385", "392", "393", "446", "428", "449", "474", "475", "484", "485", "492", "493", "225", "175", "275", "463", "332", "342", "473", "611", "612", "613", "692", "642", "643", "644", "645", "672", "673", "623", "624", "684", "685", "675", "676", "314", "364", "442", "677", "678", "443", "646", "256", "215", "655", "622", "641", "686", "277", "328", "331", "346", "347", "610", "640", "510", "570", "520", "540", "429", "212", "691", "662", "693", "629", "690", "671", "120", "243", "580"],
        ["122", "301", "365", "366", "367", "111", "280", "390", "190", "290", "490", "130", "140", "450"],
        ["101R", "102R", "201R", "202R"],
        ["101", "102", "203", "204", "306", "310", "474", "475", "205", "307", "408", "374", "100", "270", "417", "416", "601", "602", "802"],
        ["32", "34", "36", "42", "44", "46"],
        ["606", "605", "604", "603", "602", "601", "600", "610", "660", "620", "680"],
        ["601", "602", "603", "604", "605", "607", "608", "600", "620", "700", "300", "400", "320", "340", "100", "411", "412", "420", "350", "450", "430", "470", "580", "210", "460", "615", "612", "360"],
        ["602", "605", "606", "608", "610", "614", "617", "618", "622", "624", "627", "629", "631", "636", "642", "645", "650", "667", "669", "675", "680", "681", "681A", "201", "110", "211", "120", "239", "241", "150", "273", "302", "303", "310", "323", "331", "342", "354", "370", "371", "477L", "403", "426", "428", "431", "432", "433", "434", "335L", "438", "439", "441", "442", "443", "444", "345", "346", "447", "448", "450", "351", "452", "455", "456", "457", "359", "470", "461", "473", "490A", "490B", "490C", "490D", "498A", "498B", "499A", "499B", "360", "165", "361", "365", "373", "373L", "321", "465", "325", "266", "130L", "240L", "348L", "475", "130", "240", "382", "483", "449", "476", "309", "308", "484", "479", "383", "678", "280", "646", "462", "350", "376", "690", "349", "364", "472", "486", "651", "355", "458", "652", "487", "225", "485", "489", "414", "469", "341", "451", "312"],
        ["101", "102", "103", "202", "201", "203", "210", "230", "240", "330", "302", "304", "310", "308", "380", "399", "421", "410", "499", "317", "303", "224", "244"],
        ["186", "285", "285L", "284", "284L", "355", "384", "161", "162", "261", "361", "362", "381", "461", "462", "101", "101L", "121", "122", "181", "213", "281", "281L", "282", "182", "386", "393", "393L", "252", "356", "356L", "364", "411", "102", "201", "202", "301", "302", "401", "402", "294", "294L", "550", "551", "587", "588", "589", "399", "499", "581"],
        ["-----"],
        ["244", "201", "211", "212", "101"],
        ["101", "301", "401"],
        ["610", "602", "640", "641", "660", "661", "710", "715", "720", "725", "730", "735", "740", "745", "750", "755", "760", "775", "200", "220", "230", "211", "231", "361", "330", "314", "331", "498", "483", "499", "100", "101", "102", "514", "522", "524", "562", "564", "572", "574", "201", "202", "301", "302", "401", "402", "770", "482", "614", "632", "161", "290", "291", "225", "425", "322", "390", "480", "490", "541", "543", "571", "298", "299", "398", "399", "241", "765", "500", "612", "565", "312", "313", "620", "516", "341", "491", "383", "120", "180", "181", "450", "600", "601", "621", "561", "520", "521", "663"],
        ["710", "712", "713", "715", "717", "718", "720", "724", "726", "727", "728", "729", "730", "731", "736", "737", "738", "740", "745", "746", "750", "755", "756", "760", "764", "765", "766", "769", "770", "771", "772", "773", "794", "262", "262L", "120", "120L", "121", "121L", "123", "123L", "125", "125L", "212", "220", "220L", "221", "224L", "233", "237", "237L", "250L", "254", "356", "264", "265", "265L", "266", "266L", "267", "267L", "310", "310L", "313", "323", "333", "335L", "350", "350L", "357", "360", "360L", "363", "392A", "392B", "404", "432", "433", "430", "464", "370", "494A", "494B", "495", "496", "497", "313L", "209", "240", "331", "381", "382L", "340", "140", "481", "383", "201", "301", "302", "339", "479", "491A", "491B", "400", "200", "233L", "784"],
        ["101R", "102R", "201R", "202R", "120R", "301R", "302R", "310R", "320R", "200R", "390R", "391R", "401R", "402R"],
        ["200", "100", "300", "250", "400", "329", "155", "255", "267"],
        ["601", "602", "603", "604", "610", "614", "640", "641", "642", "643", "650", "653", "670", "671", "673", "680", "681", "682", "700", "701", "702", "703", "704", "707", "710", "711", "720", "740", "742", "750", "752", "753", "770", "771", "774", "776", "779", "204", "205", "221", "222", "224", "265", "280", "303", "306", "353", "354", "375", "400", "401", "505", "507", "413", "414", "415", "422", "440", "542", "343", "554", "460", "583", "491", "596", "484", "298", "299", "398", "399", "498", "499", "512", "497", "121", "230", "332", "153", "199", "100", "104", "105", "115", "241", "341", "310", "382", "392", "781", "123", "495", "644", "645", "646", "790R", "799", "722", "622"],
        ["221", "321", "100", "201", "202", "251", "252", "205", "311", "325", "384", "390", "490A", "490B", "492", "241", "242", "210", "237", "261", "361", "225", "103", "230", "486", "461", "105", "231", "232", "327", "104", "331", "351", "352", "341", "342", "600", "633", "643", "653", "641", "632", "631", "642", "651", "652", "695", "326", "220", "123", "260"],
        ["730", "750", "761", "763", "764", "740", "762", "770"],
        ["363", "364", "201", "202", "390"],
        ["630", "634", "640", "642", "644", "650", "652", "663", "664", "666", "690", "730", "739", "743", "749", "750", "751", "759", "769", "839", "227", "327", "330", "331", "342", "250", "351", "255", "367", "370", "380", "430", "434", "439", "440", "442", "444", "450", "452", "454", "456", "466", "480", "499", "459", "463", "487", "485", "685", "639", "687", "734", "745", "765", "771", "779", "849", "859", "869", "879", "789", "785", "471", "671", "353", "481", "681", "778", "372", "738", "754", "781", "601", "602", "446", "646", "631", "673", "431"],
        ["600", "300"],
        ["231", "400", "321", "421", "431", "432", "101", "103", "433"],
        ["399"],
        ["1G", "2G", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "3G", "11", "601", "12"],
        ["101", "102", "299"],
        ["642", "644", "645", "646", "647", "648", "650", "652", "654", "656", "657", "658", "662", "664", "666", "676", "684", "685", "686", "687", "688", "690A", "690B", "692", "742", "744", "746", "762", "766", "767", "778", "779", "786", "787", "788", "798", "476", "100", "200", "230", "234", "240", "241", "246", "251", "330", "338", "341", "360", "370", "430", "436", "442", "444", "445", "446", "447", "348", "450", "452", "454", "457", "462", "466", "490", "482", "486", "487", "488", "492", "499R", "697", "489", "456", "698", "840", "842", "846", "848", "850", "854", "856", "860", "869", "870", "886", "887", "888", "784", "785", "789", "740", "741", "745", "761", "763", "764", "765", "775", "898", "682", "882", "365", "371", "245", "398", "399", "350", "343", "475", "781", "782", "467", "780", "768", "758", "349", "135", "136", "795", "497", "448", "499T", "770", "115", "116", "145", "137", "138", "458", "858", "889", "774", "783", "791", "867", "743", "755", "792", "146", "335", "247", "449", "485", "484", "649", "675", "634", "636", "638", "105", "106", "383", "451", "231", "240E", "241E", "245E", "246E", "480", "631", "651", "680", "493", "494", "431", "600", "885", "794", "251E", "754", "479", "114", "747", "679", "346", "136L"],
        ["601", "602", "603", "604", "605", "610", "611", "612", "613", "614", "615", "616", "617", "618", "606A", "606B"],
        ["201", "202", "300", "400", "329", "403", "203", "305", "302", "307", "308", "309", "204", "401", "303"],
        ["701", "702"],
        ["612", "613", "614", "623", "625", "626", "616", "627"],
        ["700", "701", "702", "712", "713", "714", "720", "730", "766", "782", "784", "790", "722", "791", "723"],
        ["101", "102", "271"],
        ["624", "606", "610", "611", "612", "620", "621", "622", "623", "625", "630", "631", "634", "635", "638", "640", "641", "642", "644", "645", "650", "651", "653", "654", "656", "657", "658", "659", "661", "668", "671", "690", "691", "692", "121", "121L", "122", "122L", "123", "221", "223", "231", "232", "235", "238", "260", "331", "332", "333", "336", "342", "355", "358", "390", "421", "435", "436A", "436B", "437", "438", "439", "440", "456", "458", "459", "460", "461", "471", "490", "632", "281", "270", "646", "444", "458L", "491", "626", "643", "695", "321", "627", "652", "322", "649"],
        ["100R", "205R", "360R", "220R", "250R", "391R", "300R", "301R", "206R", "277R", "204R", "202R", "203R", "275R", "361R", "377R", "231R", "302R", "304R", "362R", "363R", "291R", "120R", "346R", "303R", "336R", "110R", "233R", "232R", "337R", "262R"],
        ["611", "606", "615", "601", "603", "612", "602", "604", "605"],
        ["602", "603", "604", "605", "610", "611", "612", "613", "614", "617", "621", "628", "631", "632", "633", "634", "635", "636", "637", "644", "647", "651", "653", "761", "662", "663", "762", "666", "763", "668", "669", "671", "672", "675", "678", "682", "683", "686", "688", "715", "730", "731", "738", "740", "752", "753", "652", "770", "781", "784", "451", "452", "453", "150", "204", "222", "250", "318", "380", "313", "414", "327", "454", "455", "463", "464", "474", "481", "486", "205", "206", "102", "201", "202", "301", "302", "401", "402", "103", "499", "406", "409", "493", "741", "638", "639", "665", "700", "710", "720", "750", "760", "780", "477", "725", "484", "488", "6601PD", "6602PD", "6603PD", "6604PD", "6605PD", "6606PD", "6607PD", "6608PD", "6609PD", "6610PD", "6611PD", "6612PD", "467", "100A", "100B", "200A", "200B", "300A", "300B", "400A", "400B", "105", "106", "124", "140", "155", "207", "224", "240", "242", "254", "331", "351", "356", "358", "361", "498A", "498B", "375", "475", "6613PD", "6614PD", "6615PD", "6616PD", "6617PD", "6618PD", "416", "417", "423", "432", "433", "444", "445", "457A", "457B", "458", "462", "459", "606", "768", "607", "654", "655", "656", "657", "630", "658", "627", "754", "755", "650", "204A", "204B", "657A", "659", "676", "677", "642", "108", "190", "298", "306", "320", "340", "350", "360", "373", "208", "252", "260", "403", "404", "405", "601", "608", "192", "203", "307", "751", "722", "782", "783", "101A", "101B", "101C", "101D", "101E", "109", "609", "716", "699", "198", "495", "231", "765", "457C", "649", "660"],
        ["601", "602", "604", "605", "606", "621", "631", "641", "645", "655", "672", "673", "674", "721", "101", "102", "201", "211", "221", "231", "311", "332", "351", "457", "361", "363", "371", "372", "382", "421", "422", "472", "488", "489", "381", "445", "471", "483", "484", "487", "635", "651", "643", "436", "624", "642", "657", "701", "702", "648", "659", "722", "723", "773", "743", "456", "727", "637", "451", "622", "623", "452", "100", "254", "412", "704", "741", "742", "751", "757", "261", "206", "207", "212", "255", "256", "262", "290", "306", "322", "323", "366", "391", "392", "393", "406", "407", "408", "409", "423", "474", "491", "496", "241", "441", "443", "600", "625", "603", "703", "437", "467", "424", "425", "426", "626", "658"],
        ["129R", "101R", "102R", "602R", "612R", "601R", "110R", "103R", "104R", "622R", "621R", "105R"],
        ["202", "102", "302", "402A", "402B", "203", "204", "306", "405", "308", "211", "112", "407", "408", "475", "410", "411", "601", "602", "620", "630", "640", "622", "632", "642", "650", "612", "690A", "690B", "309", "406", "652", "375", "403A", "403B", "314", "310", "304", "315"],
        ["700", "797", "799", "361", "103B", "108E", "108F", "109", "129R", "140R", "190", "200A", "200B", "201", "202A", "202B", "205R", "208A", "208B", "208C", "208E", "208H", "208K", "210E", "210F", "217", "251", "292", "305A", "305B", "306A", "306B", "306D", "306F", "309A", "309C", "306G", "309E", "310A", "310B", "310C", "313", "315", "316", "318", "330A", "330B", "335", "336", "343", "344", "345", "347", "350A", "350B", "362", "363", "365", "366", "392A", "392B", "408A", "408B", "408C", "430A", "430B", "451A", "451B", "460A", "460B", "460C", "470A", "470B", "470C", "495A", "495B", "796", "798", "208L", "210H", "481", "484", "208M", "346", "348", "364", "208N", "210I", "247", "342", "705", "710", "715", "720", "725", "730", "735", "750", "755", "760", "770", "775", "780", "785", "790", "791", "792", "793", "794", "795", "119", "260", "320", "309G", "409A", "104", "101A", "101B", "322", "463", "203", "204", "303", "403", "206", "213", "371", "471", "407", "319", "406", "325", "304", "290", "293", "100A", "100B", "100C", "108A", "108B", "108D", "788", "789", "460D", "485", "486", "492", "493", "494", "410", "294", "295", "291", "280", "210G", "210J", "472", "378", "275", "211", "132R", "209", "210C", "208G", "240R", "241R", "108T", "108P", "248", "346R", "108X", "308", "108G", "491", "332", "191", "192", "193", "242", "243", "425", "412", "411", "324", "230", "367", "701", "702", "200C", "262", "244", "232", "101C"],
        ["583", "100", "223", "224", "275", "330", "375", "391", "400", "401", "573", "577", "298", "299", "398", "399", "498", "499", "121", "153", "115", "277", "279", "383", "382", "392", "225", "280", "335", "376", "123", "495", "497"],
        ["178", "195", "200", "201", "220", "278", "395", "401", "433", "469", "474", "444", "131", "105", "374", "274", "300", "350", "205", "210", "310", "410"],
        ["604", "660", "669", "615", "100", "215", "270", "275", "382", "317", "315", "253", "370", "375", "300", "404", "415", "475", "403A", "403B", "474", "294", "675", "680", "316", "372", "674", "383", "619", "606", "484", "606", "283", "335", "701", "702", "265", "365", "234", "462", "361", "340", "341", "681", "320", "454", "422", "373", "374", "473", "622", "654", "684", "342", "346", "446", "406", "443", "288", "337", "101", "102", "201", "202", "225", "321", "328", "400", "401", "402", "431", "301", "318", "460", "222", "678", "620"],
        ["680", "681", "682", "683", "690", "691", "692", "112", "210", "212", "213", "214", "215", "220", "221", "222", "223", "272", "224", "225", "230", "228", "227", "252", "253", "281", "241", "242", "216", "319", "330", "217", "332", "392", "472", "473", "474", "475", "338", "694", "695", "150", "359", "671", "670A", "670B", "673", "674", "672A", "672B", "282", "293", "393", "209", "341", "342", "262", "100", "202", "226", "231", "232", "243", "204", "205", "206", "302", "304", "305", "306", "343", "344", "402", "404", "405", "406", "102", "101", "368", "362", "363", "364", "130", "257", "256", "245", "244", "271", "275", "383", "258", "259", "407", "696", "377", "201", "246", "247", "309", "312", "315", "327"],
        ["601", "603", "606", "641", "671", "681", "687", "151", "152", "192A", "192B", "203", "250", "251", "252", "255", "291", "292", "303", "332", "343", "351", "354", "363", "375", "399A", "400", "403", "410", "424", "452", "471", "473", "484", "485", "487", "490", "491", "611", "621", "631", "651", "661", "685", "296", "297", "276", "486", "600", "373", "353", "365", "367", "355", "101", "605"],
        ["101", "211", "201", "202", "203", "205", "301", "302", "303", "305", "306", "402", "204", "210", "304", "365", "465", "228", "212", "310", "311", "410", "412", "413", "414", "312"],
        ["602", "601", "610", "603", "620", "622", "630", "640", "650", "600", "652", "660", "675", "644", "694", "690"],
        ["123", "301", "302", "303", "315", "401", "402", "412", "415", "501", "502", "503", "119", "397", "395", "396", "21C", "21K", "21Q", "21E", "21I", "21L", "21M", "21T", "21D", "21S", "22A", "22B", "22C", "22D", "21A", "199", "299", "399", "499", "403", "404", "101", "21U", "21N", "23K", "23E", "23Q", "23S", "21B", "191"],
        ["221", "353", "354", "554", "100", "223", "224", "391", "400", "401", "298", "299", "398", "399", "498", "499", "121", "153", "115", "392", "280", "123", "495", "497"],
        ["660", "600", "602", "603", "604", "606", "607", "616", "618", "620", "624", "625", "635", "640", "642", "643", "644", "646", "647", "661B", "664", "672", "673", "675", "690", "611", "613", "615", "685", "619", "661A", "665", "666", "101", "102", "305", "202", "300", "303", "309", "316", "318", "319", "222", "323", "340", "351", "387", "356", "391", "293", "405", "407", "409", "411", "426", "430A", "430B", "430C", "450", "381", "459", "471", "490A", "490B", "432", "281", "368", "349", "601", "645", "676", "487", "474", "481", "475", "452", "621", "641", "692", "638", "233", "423", "203", "609", "453", "605", "100", "306", "271", "310", "371", "215", "669", "404", "608", "648", "649", "294", "311", "209", "637", "639", "651", "462", "361", "410", "428", "652", "679", "674", "677", "653", "678", "408", "181", "187", "418", "320", "454", "483", "654", "325", "695", "696", "693", "694", "374", "207", "307", "655", "683", "270", "225", "304", "456", "415", "420", "436", "336", "460", "392", "416", "274", "205", "302", "800", "668", "700", "403", "219", "484", "359", "314", "417", "656", "357"],
        ["600", "700", "702", "602", "603", "703", "611", "711", "621", "721", "623", "723", "695", "101", "102", "201", "202", "271", "272", "395", "396", "490", "495", "622", "722", "610", "710", "613", "713", "612", "712", "614", "714", "695", "407", "250", "303", "304", "331", "350", "431", "359", "283", "601", "701", "604", "704", "620", "720", "397", "301", "383", "261", "262", "100", "180", "307", "308", "362", "363", "364", "385", "120", "751", "752", "753", "754", "761", "762", "763", "764", "765", "771", "772", "773", "774", "775", "780", "615", "715", "211", "791", "298", "299", "398", "399", "792", "790", "200", "230", "793", "286", "330"],
        ["401A", "401B", "201", "310", "218", "320", "245", "352", "400", "355"], ["620", "632", "650", "640", "613", "630", "611", "610", "642", "621", "600", "700", "701", "641", "651", "652", "631", "614", "615", "643", "661", "618", "628", "638", "648", "658", "619", "629", "639", "649", "659", "633", "653", "662", "663", "634", "668", "669", "644", "622", "660"],
        ["101", "102", "201", "202", "351", "490", "491", "451", "331", "332", "421", "341", "105", "600", "601", "291", "602"],
        ["901", "903", "902", "*", "."],
        ["350", "108", "208E", "334", "222", "402", "408", "261", "326", "101", "201", "371", "208L", "430", "331", "309", "463", "205", "207", "102", "302", "320", "306", "206", "260", "262", "347", "315", "410", "401", "211", "380", "327", "221", "232", "307", "301", "203", "271", "304", "472", "473"],
        ["150", "107", "100", "105", "395"],
        ["602", "601", "604", "612", "620", "621", "626", "627", "632", "633", "635", "636", "651", "653", "691A", "691B", "691C", "704", "760", "761", "763", "766", "768", "770", "771", "242", "252", "236", "102", "103", "104", "106", "275", "200", "205", "209", "210", "211", "213", "221", "223", "237", "239", "243", "247", "350", "250", "253", "254", "257", "258", "260", "262", "263", "220", "321", "329", "340", "341", "356", "358", "374", "379", "385", "388", "389", "397", "398", "491", "235", "234", "348", "304", "703", "701", "710", "110", "111", "226", "351", "769", "113", "712", "714", "715", "762", "764", "765", "767", "232", "371", "372", "231R", "309", "277", "265", "291", "391", "230", "611", "610", "314", "266", "380", "313", "214", "603", "605", "105", "311", "206", "268", "115", "278", "316", "315", "201", "606", "369", "318", "607", "608", "719", "224", "759", "227", "317", "614", "191", "225", "622", "725", "726", "727", "775", "776", "777", "282", "109", "347", "255", "269", "271", "302", "303", "305", "660", "202", "203", "377R", "212", "312", "289", "421", "422", "450", "216", "207", "256", "359", "370", "728", "640", "624", "778", "274", "323", "368", "322", "101"],
        ["601", "606A", "610", "741", "201", "101", "102", "310", "218", "320", "245", "340", "341", "350", "352", "400", "407", "420", "432A", "432B", "433", "442", "253", "472", "471", "671", "641", "603", "665", "620", "720", "230", "452", "421", "451", "461", "750", "602A", "602B", "604", "605B", "606B", "607", "608", "609", "614", "617", "623", "624", "631", "632", "634", "635", "636", "637", "638", "640", "448", "449", "672", "731", "732A", "730", "732B", "260", "333", "344", "410", "473", "435", "661", "662", "663", "612", "611", "613", "615", "616", "103", "202", "301", "303", "481", "458", "401", "651", "652", "653", "654", "655", "173", "204", "273", "373", "380", "304", "355", "370", "412", "443", "656", "605A", "619", "621", "622", "642", "701", "704", "705", "706", "719", "664", "290", "453", "479", "625", "454", "459", "358", "335", "480", "626", "627", "629", "630", "633", "628", "427", "430", "450", "465", "474", "205", "475", "618", "639", "392", "644", "650", "284", "455"],
        ["200", "301", "303", "307", "305", "400"],
        ["101", "204", "201", "302", "203", "301", "305", "390", "490"],
        ["731", "732A"],
        ["101", "102", "201", "301", "401", "490", "289", "389", "489", "498"],
        ["200", "210", "225", "310", "320", "325"],
        ["602", "606", "100", "200", "202", "212", "300", "302", "308", "401", "402", "275", "375", "474", "10", "387", "605", "607", "608", "612", "613", "614", "615", "616", "611", "604", "601", "609", "603", "101", "476", "475", "404", "490A", "490B", "262", "617"],
        ["272", "216", "318", "201", "301", "305", "101", "102", "226"],
        ["120", "10", "121", "220", "221", "230", "320", "321", "420A", "420B", "275", "375", "475", "251", "210", "340", "475A", "475B", "440", "441", "640", "641", "240", "499", "410", "499A", "499B"],
        ["101"],
        ["101", "102", "201", "202", "251", "396", "155"],
        ["291", "292", "311", "312", "281", "392", "360", "100", "271", "394", "111", "265", "349", "112", "120", "296", "396"],
        ["101R", "102R", "111R", "112R", "201R", "202R", "301R", "302R", "391R"],
        ["235", "236", "217", "218", "234", "212", "301", "350", "450", "203", "233", "314", "228", "237", "215", "209", "364"],
        ["601", "602", "611", "612", "616", "620", "625", "651", "652", "680", "686", "702", "713", "780", "310", "346", "352", "407", "100", "100L", "104L", "121", "301", "217", "312", "255", "340", "354", "356", "357", "402", "416", "420", "422", "425", "431", "432", "433", "453", "359", "459", "470", "472", "491", "493", "682", "782", "221", "391", "307", "684", "760", "403", "140L", "427", "727", "320", "750", "415", "428", "429", "446", "471", "404", "406", "730", "731", "732A", "732B", "308", "418", "607", "646", "653", "654", "606", "704", "104", "613", "342", "343", "204", "232", "121L", "146", "202", "202L", "204L", "221L", "255L", "414", "608", "609", "630", "655", "691", "632", "657", "603", "656", "626", "692", "326", "351", "327", "464", "360", "400", "455", "492", "605", "659", "658"],
        ["101R", "102R", "201R", "202R", "391R", "301R", "302R"],
        ["101", "102", "201", "202", "351", "381", "421", "490", "491", "422", "451", "331", "332", "341", "601", "600", "291", "602"],
        ["283", "236", "235", "331", "271", "319", "351", "206", "363", "464", "224", "222", "223", "306", "227", "228", "226", "280", "221", "322", "325", "300", "327", "372", "272", "229", "428", "291", "352", "373", "374", "237", "101", "202", "292", "401", "402", "498", "366", "201", "462", "344", "492", "496", "403", "326", "342", "273", "365", "463", "434", "240", "425", "413", "386", "286", "263", "461", "387", "423", "419", "422", "328", "203", "330", "431", "433", "471", "329", "404", "405", "435", "305", "213"],
        ["470", "471", "472", "371"],
        ["103", "104", "115", "116", "117", "118", "119", "106", "225", "127", "128", "135", "136", "137", "138", "145", "146", "147", "148", "211", "212", "217", "218", "227", "228", "235", "237", "239", "245", "247", "249", "692", "97", "52", "114", "213", "124", "229", "207", "215", "630", "699", "690", "681", "648", "647", "680", "600", "650", "640", "674", "698", "641", "700", "631", "636", "642", "643", "661", "199", "682", "683"],
        ["620", "628", "631", "640", "645", "648", "649", "651", "652", "653", "662", "664", "670", "705", "706", "709", "710", "711", "722", "725", "731", "734", "735", "736", "737", "738", "739", "742", "743", "745", "747", "748", "749", "753", "755", "758", "759", "760", "761", "762", "770", "780", "574", "100", "123", "201", "202", "203", "212", "115", "219", "220", "230", "250", "262", "269", "303", "321", "322", "340", "351", "353", "354", "360", "362", "380", "423", "435", "452", "456", "459", "481", "482", "524", "531", "533", "535", "436", "547", "548", "555", "557", "559", "561", "563", "564", "566", "571", "595", "596", "598", "599", "200B", "200A", "300A", "300B", "400A", "400B", "756", "526", "597", "610", "663", "707", "729", "741", "750", "751", "627", "732", "632", "538", "720", "765", "235", "567", "100B", "101", "621", "659", "680", "671", "681", "682", "673", "672", "562", "572", "573"],
        ["205", "260", "304", "105", "115", "250R", "251R", "391", "291", "305", "252", "491"],
        ["125", "390", "397"],
        ["220", "171", "244", "345"],
        ["101", "102", "211", "221", "331", "321", "431", "410", "201L", "322", "10"],
        ["101R", "102R"],
        ["601", "602", "603", "605", "620", "630", "631", "632", "633", "646", "702", "703", "709", "712", "718", "719", "741", "750", "753", "760", "770", "454", "211", "251", "261", "311", "331", "431", "432", "442", "452", "720", "740", "700", "607", "606", "422", "100", "200A", "200B", "240", "263", "271", "300A", "300B", "332", "333", "342", "343", "400A", "400B", "401", "402", "433", "434", "435", "436", "446", "638", "751", "609", "100B", "131", "334", "531", "541", "551", "555", "597", "598", "651", "652", "121", "411", "724", "731", "734", "744", "391", "392", "491", "245", "253", "543", "634", "623", "641", "752", "302", "546"], ["309", "121", "140", "241", "325", "202", "203", "204", "100", "111", "119", "201", "219", "322", "360", "120", "220", "320", "100B", "200A", "200B", "300A", "300B", "400A", "400B", "545", "262", "380", "481", "482", "460", "420", "544", "546", "597", "598", "599", "321", "421"],
        ["206", "198", "298", "398", "498", "131", "300", "99"],
        ["100", "111", "116", "117", "140", "216", "217", "222", "226", "227", "231", "240", "253", "254", "255", "256", "260", "270", "271", "275", "316", "317", "322", "326", "327", "332", "334", "355", "361", "362", "363", "364", "370", "371", "376", "380", "381", "390", "426", "427", "492", "261", "290", "246", "491", "428", "110", "232", "233", "262", "333", "335", "392", "417", "416"],
        ["606", "701", "702", "605", "600", "601", "602", "603", "604"],
        ["101", "102", "201", "202", "301", "302", "100", "112", "113", "215", "121", "131", "241", "224", "226", "332", "333", "242", "318", "334", "335", "336", "343", "344", "345", "352", "353", "461", "471", "481", "491", "307", "408", "409", "222", "125", "225", "459", "220L", "320L", "340L", "216", "217", "330L", "226L", "451", "452", "111", "109", "350", "450", "454A", "454B", "454C", "454D", "455A", "455B", "455C", "455D", "381", "453", "140", "466", "476", "486", "487", "488", "496", "110", "281", "102B", "201A", "202B", "301A"],
        ["606", "607", "608", "614A", "614B", "628", "103", "104", "105", "106", "109", "114", "215", "216", "246", "252", "255", "261", "346", "347", "348A", "348B", "367", "412", "441", "478", "458", "468", "451", "461S", "477", "624A", "624B", "630", "152", "245", "219", "231", "126", "139", "243", "150", "360", "262", "365", "170", "272", "460", "342A", "342B", "375", "377", "380", "385", "387", "631", "488", "152L", "245L", "252L", "255L", "347L", "375L", "108", "124", "134", "650", "651", "660", "670", "671", "672", "680", "682", "661", "681", "683", "148", "158", "248", "258"],
        ["660", "632", "661", "633", "662", "634", "630", "201", "202", "323", "302", "311", "312", "313", "314", "390", "398", "399", "320", "330", "316", "318", "301", "324", "203", "321", "401", "326", "402", "671", "670", "672", "327", "391", "395", "328", "329", "635", "651", "652", "650", "601", "602", "603", "604", "605", "610", "611", "612", "620", "621", "625", "626", "331", "101", "332", "333", "335", "623", "336", "310", "315", "325", "290", "490"],
        ["1", "3", "4", "5", "6", "7", "20", "8", "22", "9", "10", "11", "12", "13", "19"],
        ["2", "1", "3", "4"],
        ["1", "2", "3", "4", "5", "6", "7", "8"],
        ["124", "120", "125", "127", "129", "130", "141", "220", "221", "224", "227", "228", "229", "326", "151", "290", "320", "321", "330", "329", "391", "400", "401", "324", "491", "110", "111", "232", "222", "223", "323", "422", "361", "362", "363", "364", "126", "366", "367", "368", "370", "372", "460", "461", "462", "464", "465", "466", "467", "602", "603", "604", "605", "606", "607", "608A", "609", "610", "373", "374", "375", "376", "377", "469", "470", "472", "611", "155", "425", "430", "440", "450", "351", "352", "353", "473", "378", "474", "475", "379", "476", "613", "497", "498", "499", "601", "614", "615", "616A", "617", "380", "618", "619", "616B", "656", "230", "226", "392", "651", "652", "653", "654", "655", "657"], ["675", "676", "699", "315", "110A", "100J", "118J", "120J", "145", "283", "284", "200J", "201", "202", "204J", "305J", "306J", "208", "209", "210J", "215", "216", "218J", "219J", "121", "221", "224", "226", "230J", "237", "240", "255", "256", "265", "318J", "319J", "327", "331", "350", "257", "380", "382", "384", "386", "402", "326J", "420", "422", "441", "450J", "451J", "455", "471", "472", "481", "482", "258", "355", "363", "329", "498", "110B", "324", "670", "671", "672", "673", "696", "698", "328", "403", "404", "405", "407", "674", "680A", "680B", "259", "227", "290", "291", "447", "245", "271", "371", "416", "458", "459", "463", "452", "356", "251", "205", "206", "600", "207J", "302", "320", "340", "358", "252", "101", "211J", "220J", "285J", "286J", "262J", "228", "321J", "260"],
        ["703", "701", "702", "704", "705", "706", "708", "709", "710", "712", "713", "717", "731", "732", "733", "745", "749", "751", "752", "754", "757", "771", "773", "781", "787", "788", "789", "263", "454", "476", "111", "111L", "112", "112L", "115", "121", "121L", "122L", "125", "234", "242L", "256", "256L", "275", "334", "391", "391L", "358", "359", "360A", "360B", "363", "364", "365", "375", "380", "434", "435", "437A", "437B", "444", "475", "10", "715", "490", "232L", "460A", "460B", "784", "775", "786", "396", "467", "767", "747", "335", "785", "280", "260L", "601", "602", "603", "604", "605", "606", "607", "608", "621", "622", "623", "624", "635", "636", "637", "638", "639", "641", "642", "643", "644", "645", "646", "647", "648", "649", "776", "777", "714", "716", "718", "768", "769", "790", "791", "730", "738", "737", "124", "242", "342", "393", "394", "442", "461", "468", "122", "395", "609", "610", "625", "175", "175L", "270L", "474", "224", "224L", "225", "233", "383", "483", "491", "370L", "611", "650", "739", "484", "782", "267", "160L", "249", "349", "449", "760", "761", "762", "763"],
        ["660", "616", "618", "661B", "611", "613", "615", "601", "614", "619", "623", "625", "630", "661A", "665", "666", "700", "710", "801", "802", "478", "351", "353", "320", "387", "450", "381", "432", "100", "110", "210", "362", "281", "103", "300", "333", "340", "341", "349", "350", "401", "403", "431", "440", "471", "475", "483", "484", "485", "490", "414", "675", "676", "487", "480", "481", "474", "674", "621", "102", "602", "622", "669", "703", "639", "641", "646", "647", "648", "657", "233", "261", "309", "313", "409", "408", "452", "453", "433", "654", "652", "677", "477", "678", "684", "701", "702", "346", "104", "105", "203", "405", "416", "418", "451", "704", "720", "721", "705", "706", "262", "627", "415", "417", "685", "686", "800A", "800B", "800C", "800D", "803", "211", "606"], ["632", "641", "651", "652", "665", "667", "690", "863", "764", "331", "332", "365", "451", "453", "465", "330", "334", "336", "340", "343", "351", "352", "450", "399", "432", "440", "441", "467", "499", "370", "464", "871", "810", "433", "650", "733", "740", "753", "347", "348", "445", "446", "745", "646", "930", "940", "945", "950", "965", "990", "333", "320", "321", "833", "868"],
        ["102", "101"],
        ["611", "612", "613", "614", "615", "616", "617", "618", "619", "620", "621", "622", "699", "623", "624", "625", "626", "627", "628", "629"],
        ["604", "621", "623", "624", "625", "626", "630A", "631", "632", "633", "634", "635", "650", "652", "654", "655", "657", "658", "659", "661", "662", "664", "668", "671", "678", "683", "685", "686", "687", "688", "432", "252", "314", "225", "226", "231", "255", "260", "264", "281", "282", "315", "324", "331", "433", "350", "351", "363", "382", "390", "391", "421", "423", "426", "428", "431", "434", "451", "454", "456", "461", "472", "481", "485", "490", "491", "492", "499A", "499B", "684", "355", "486", "387", "643", "663", "373", "250", "600", "689", "353", "334", "370", "360", "253", "257", "367", "358", "259", "310", "283", "439", "639", "389", "606", "369", "452", "455", "482", "487", "277", "680", "462", "617", "618", "679", "614", "615", "616", "488", "300", "403", "480", "244", "375", "619", "620", "100", "150", "254", "352", "362", "460", "404", "405", "435", "463", "479", "299", "385", "666", "359", "450", "420", "302", "303", "493", "384", "301", "656", "692", "348", "497", "496", "495", "494", "437", "400", "380", "610", "611", "690", "691", "304", "672"],
        ["621", "632", "650", "677A", "679A", "704A", "704B", "708", "731", "747", "770", "772", "773", "775", "776", "777", "778", "779", "779A", "781", "783", "800", "801", "836A", "883", "886", "218", "256", "101", "101R", "207", "211", "212", "212R", "213R", "253R", "253", "354R", "354", "231", "232", "235", "236", "257", "257R", "261", "291", "292", "306", "307", "308", "312", "312R", "314", "315", "317", "318", "334R", "336", "238", "339", "353", "361", "391", "393", "394", "395", "396", "397", "398", "398R", "399R", "453", "454", "455", "457", "458", "461", "462", "464", "465", "466", "480", "499A", "499B", "499C", "330", "230", "492", "352", "363", "463", "714", "605", "640", "670", "680", "690", "707", "710", "713", "779B", "782", "784", "810", "844", "846", "884", "885", "630", "481", "482", "483", "484", "485", "320", "349R", "319", "356", "356R", "264", "399", "340", "887", "375R", "709", "769", "820", "821", "822", "486", "804", "870", "447", "439", "467", "888", "788", "380", "392", "450R", "490R", "789", "790", "792", "420", "350", "226R", "335", "795", "448R", "794", "342", "355", "372", "716", "717", "719", "718", "720A", "720B", "721A", "721B", "722C", "723", "724", "725", "726A", "726B", "727", "728", "729A", "729B", "729C", "730A", "730B", "741C", "741B", "742A", "742B", "742C", "730C", "732A", "732B", "732C", "733A", "733B", "733C", "734A", "734B", "734C", "735A", "735B", "735C", "736A", "736B", "736C", "737A", "737B", "737C", "738A", "738B", "738C", "739A", "739B", "739C", "740A", "740B", "740C", "741A", "877", "878", "879", "701", "702", "705", "706", "316", "451", "823", "824", "444R", "875", "876", "459", "389", "390", "470", "785", "803", "493", "758A", "759", "748", "357", "743", "744", "745", "746", "749", "758B", "825A", "825B", "826A", "826B", "827A", "827", "828A", "828B", "829A", "829B", "337", "726C", "811A", "811B", "811C", "715", "812"],
        ["820", "710", "845", "880", "890", "895", "823", "891", "750", "885", "860", "861", "862", "863"],
        ["600", "609", "772", "672", "673", "773", "695", "700", "433", "383", "202", "362", "100", "101", "200", "203", "215", "120", "230", "251", "252", "280", "356", "361", "371", "408", "413", "420", "425", "450", "455", "471A", "471B", "480", "798", "475", "405", "472", "422", "401", "750", "253", "306", "730", "731", "732A", "732B", "351", "312", "151", "357", "206", "172", "201", "213", "218", "272", "313", "372", "373", "662", "620", "663", "611", "621", "631", "641", "651", "219", "319", "419"],
        ["272", "230", "260", "261", "262", "180", "364", "385", "120"],
        ["730", "361", "315", "201", "270", "271", "101", "102", "223", "224", "343", "420R", "357", "358", "261", "100", "110", "150", "255", "253", "180", "260", "258", "235", "236", "203", "204", "216", "210", "262", "219", "281", "280", "251", "240", "250", "245", "254", "283", "320", "284", "383", "344", "342", "355", "348", "353", "354", "398", "225", "218", "234", "212", "318", "121", "285", "395", "391", "491", "462", "291", "495", "244", "211", "272", "279", "220", "700", "701", "703", "704", "314", "380", "228", "237", "498", "499", "325", "206", "307", "705", "275", "230", "710", "221", "209", "241", "312", "266", "327", "123", "450", "242R", "301", "335", "229", "259", "387", "349", "364", "263", "264", "350", "377", "207", "208", "226", "310", "287"],
        ["603", "101", "102", "622"],
        ["123", "223", "323", "423", "122", "424", "425", "225"],
        ["237", "238", "250", "267", "206", "395", "396", "397", "227", "200", "201", "207", "252", "230", "266"],
        ["131R", "150R", "220R", "240R", "250R", "251R", "420R", "350R", "354R", "398R", "399R", "499A", "499B", "323R", "326R", "358R", "357R", "311R", "495R", "353R", "312R", "375R", "370R", "450R", "490R", "496R", "400R", "205R", "215R", "351R", "415R", "425R", "355R", "440R", "231R", "331R", "210R", "388R", "431R", "449R", "405R", "322R", "451R", "242R", "367R", "260R", "288R", "411R", "330R", "345R", "435R", "441R", "445R", "310R", "421R", "410R"],
        ["101", "212", "463", "464", "465", "202", "301", "302", "401", "402", "102", "201", "498", "499", "390", "490", "491", "350", "380"],
        ["101", "102", "201", "301", "309", "310", "311", "401", "402", "403", "411", "412", "413", "299", "497", "498", "499"],
        ["121R", "390R", "375R", "221R", "315R", "230R", "231R", "132R", "240R", "241R", "250R", "251R", "131R", "450R", "242R", "233R", "232R", "310R"],
        ["204", "205", "101", "207", "304", "305", "306", "307", "308", "309", "404", "365", "310", "366", "208", "460", "111", "220", "318", "230", "319", "461", "462", "494", "496", "498", "317", "301", "200", "211", "212", "213", "214", "215", "216", "400", "499A", "499B", "490", "491", "250", "350", "112"],
        ["700", "701", "708", "709", "710", "712", "715", "719", "720", "730", "740", "751", "759", "760", "765", "776", "780", "785", "789", "352", "210", "260", "258", "262", "101", "101R", "205", "200", "201", "204R", "207", "207R", "222", "223", "223R", "224R", "306", "227", "228", "232", "241", "246", "248", "249", "253", "256", "275", "280", "307", "312", "221", "322", "325", "370", "398R", "401", "404", "405", "406", "407", "408", "310", "459", "499A", "499B", "202", "302", "355J", "327", "369J", "420", "399R", "498", "362", "346", "229", "428", "402", "497", "334", "354", "424", "725", "375R", "416", "417", "717", "744", "716", "450R", "490R", "326", "342", "349", "451", "418", "452", "781", "783", "782", "431", "784", "434", "240", "270", "425", "320", "225", "324", "413", "263", "461", "387", "423", "419", "422", "328", "230", "330", "430", "304", "726", "383", "252", "440", "433", "432", "436", "329", "435", "305", "213", "721", "722"],
        ["120R", "220R", "221R", "222R", "240R", "300R", "320R", "321R", "322R", "326R", "355R", "356R", "357R", "365R", "390A", "390B", "398R", "399R", "301R", "375R", "450R", "490R", "421R"],
        ["101", "102", "201A", "201B", "217", "301A", "301B", "326", "344", "387", "490", "390", "430", "400", "290", "210", "410", "345", "150", "395", "300", "329", "234", "317"], ["102", "223", "100", "225", "324", "326", "325", "499A", "499B", "323", "431", "227", "433", "432", "434", "490", "491", "300", "440", "228", "226", "401", "402", "329", "220", "430", "420", "475", "111", "204", "101", "339", "335", "191", "192", "193", "149", "201", "210", "471", "479", "302", "301", "435", "112", "229", "224"],
        ["831", "833", "835", "840", "841", "844", "850", "854", "901", "902", "906", "908", "923", "929", "930", "935", "938", "316", "340", "202", "211", "220", "221", "230", "231", "240", "241", "321", "322", "330", "331", "332", "333", "430", "431", "433", "440", "441", "443", "450", "454", "464", "466", "467", "468", "830", "206", "690", "890", "891", "946", "947", "469", "435", "341", "442", "444", "371", "372", "373", "842", "334", "936", "337", "437", "436", "631", "974", "836", "931", "932", "814", "847", "845", "438", "900", "870", "940"],
        ["100", "202", "306", "302", "400", "201", "401", "304", "205", "210", "305", "208"],
        ["605", "601", "602", "603", "630", "620", "640", "650", "675", "674", "701", "702", "775", "660", "678"],
        ["609R", "601R", "600R", "602R", "603R", "604R", "605R", "608R", "650R", "651R", "652R", "690R", "672R", "653R", "610R", "654R", "606R", "680R"],
        ["250R", "251R", "224R", "120R", "220R", "221R", "222R", "300R", "321R", "411R", "414R", "422R", "424R", "431R", "434R", "441R", "442R", "443R", "301R", "311R", "349R", "312R", "423R", "470R", "471R", "472R", "331R"],
        ["621", "625", "631", "632", "642", "652", "654", "675", "677", "710", "720", "730", "750", "760", "770", "780", "111", "112", "114", "121", "162", "161", "181", "182", "285", "192", "211", "322", "252", "286", "383", "283", "292", "311", "312", "223", "262", "334", "351", "352", "361", "362", "572", "381", "522", "544", "461", "462", "533", "543", "553", "575", "101", "102", "201", "202", "301", "302", "401", "402", "548", "542", "740", "556", "682", "101L", "192L", "292L", "352L", "261", "113", "212", "411", "532", "531", "584", "552", "633", "661", "672", "673", "674", "683", "643", "644", "655", "671", "684", "600", "660", "263", "660A", "660B", "660C", "660D", "660E", "662", "599"], ["625", "600", "616", "627", "628", "635", "626", "636", "637", "638", "690", "619", "620", "629", "614"],
        ["200", "100", "102", "221", "222", "243", "244", "301", "306", "307", "321", "322", "326", "343", "361", "371", "406", "407", "490", "499A", "499B", "386", "387", "491", "376", "440", "278", "220", "282", "284", "300", "316", "317", "374", "378", "379", "400", "416", "417", "246", "366", "368", "280", "248", "149", "389", "112", "380", "224"],
        ["700"],
        ["601", "602", "603", "604", "609", "675"],
        ["715", "691", "600", "603", "607", "617", "619", "635", "636", "637", "640", "642", "645", "652", "653", "674", "677", "678", "679", "681", "684", "689", "690", "692", "699", "718", "731", "735", "738", "751", "783", "610", "611", "796", "612", "641", "686", "755", "799", "733", "732", "734", "649", "671", "680"],
        ["700", "701", "702", "799", "801", "802"],
        ["101"],
        ["100", "101", "200", "300", "400", "401", "112"],
        ["601", "602"],
        ["100", "200", "300", "400", "101", "201", "301", "401", "3", "4", "103", "203", "303", "100M", "200M", "300M", "400M", "200A", "300A", "400A", "500A", "200S", "300S", "400S", "200E", "300E", "400E", "200H", "300H", "400H", "500H"],
        ["602", "601", "680"]
];

// Current term code derived from date
const curTermCode = getCurTermCode();

// HTML for datalist
var subdlHTML = '<option value="ACC">ACC</option><option value="ACINTY">ACINTY</option><option value="ACTSC">ACTSC</option><option value="AE">AE</option>' +
    '<option value="AFM">AFM</option><option value="AHS">AHS</option><option value="AMATH">AMATH</option><option value="ANTH">ANTH</option>' +
    '<option value="APPLS">APPLS</option><option value="ARABIC">ARABIC</option><option value="ARBUS">ARBUS</option><option value="ARCH">ARCH</option>' +
    '<option value="ARTS">ARTS</option><option value="ASL">ASL</option><option value="AVIA">AVIA</option><option value="BASE">BASE</option>' +
    '<option value="BE">BE</option><option value="BET">BET</option><option value="BIOL">BIOL</option><option value="BLKST">BLKST</option>' +
    '<option value="BME">BME</option><option value="BUS">BUS</option><option value="CDNST">CDNST</option><option value="CFM">CFM</option>' +
    '<option value="CHE">CHE</option><option value="CHEM">CHEM</option><option value="CHINA">CHINA</option><option value="CI">CI</option>' +
    '<option value="CIVE">CIVE</option><option value="CLAS">CLAS</option><option value="CM">CM</option><option value="CMW">CMW</option>' +
    '<option value="CO">CO</option><option value="COGSCI">COGSCI</option><option value="COMM">COMM</option><option value="COMMST">COMMST</option>' +
    '<option value="COOP">COOP</option><option value="CROAT">CROAT</option><option value="CS">CS</option><option value="CT">CT</option>' +
    '<option value="DAC">DAC</option><option value="DATSC">DATSC</option><option value="DEI">DEI</option><option value="DM">DM</option>' +
    '<option value="DUTCH">DUTCH</option><option value="EARTH">EARTH</option><option value="EASIA">EASIA</option><option value="ECDEV">ECDEV</option>' +
    '<option value="ECE">ECE</option><option value="ECON">ECON</option><option value="EMLS">EMLS</option><option value="ENBUS">ENBUS</option>' +
    '<option value="ENGL">ENGL</option><option value="ENVE">ENVE</option><option value="ENVS">ENVS</option><option value="ERS">ERS</option>' +
    '<option value="FINE">FINE</option><option value="FR">FR</option><option value="GBDA">GBDA</option><option value="GEMCC">GEMCC</option>' +
    '<option value="GENE">GENE</option><option value="GEOE">GEOE</option><option value="GEOG">GEOG</option><option value="GER">GER</option>' +
    '<option value="GERON">GERON</option><option value="GGOV">GGOV</option><option value="GRK">GRK</option><option value="GS">GS</option>' +
    '<option value="GSJ">GSJ</option><option value="HEALTH">HEALTH</option><option value="HIST">HIST</option><option value="HLTH">HLTH</option>' +
    '<option value="HRM">HRM</option><option value="HRTS">HRTS</option><option value="HSG">HSG</option><option value="HUMSC">HUMSC</option>' +
    '<option value="INDENT">INDENT</option><option value="INDEV">INDEV</option><option value="INDG">INDG</option><option value="INTEG">INTEG</option>' +
    '<option value="INTST">INTST</option><option value="ITAL">ITAL</option><option value="ITALST">ITALST</option><option value="JAPAN">JAPAN</option>' +
    '<option value="JS">JS</option><option value="KIN">KIN</option><option value="KOREA">KOREA</option><option value="LAT">LAT</option>' +
    '<option value="LS">LS</option><option value="MATBUS">MATBUS</option><option value="MATH">MATH</option><option value="ME">ME</option>' +
    '<option value="MEDVL">MEDVL</option><option value="MENN">MENN</option><option value="MGMT">MGMT</option><option value="MNS">MNS</option>' +
    '<option value="MOHAWK">MOHAWK</option><option value="MSCI">MSCI</option><option value="MTE">MTE</option><option value="MTHEL">MTHEL</option>' +
    '<option value="MUSIC">MUSIC</option><option value="NANO">NANO</option><option value="NE">NE</option><option value="OPTOM">OPTOM</option>' +
    '<option value="PACS">PACS</option><option value="PD">PD</option><option value="PDARCH">PDARCH</option><option value="PDPHRM">PDPHRM</option>' +
    '<option value="PHARM">PHARM</option><option value="PHIL">PHIL</option><option value="PHYS">PHYS</option><option value="PLAN">PLAN</option>' +
    '<option value="PMATH">PMATH</option><option value="PORT">PORT</option><option value="PS">PS</option><option value="PSCI">PSCI</option>' +
    '<option value="PSYCH">PSYCH</option><option value="QIC">QIC</option><option value="REC">REC</option><option value="REES">REES</option>' +
    '<option value="RS">RS</option><option value="RUSS">RUSS</option><option value="SCBUS">SCBUS</option><option value="SCI">SCI</option>' +
    '<option value="SDS">SDS</option><option value="SE">SE</option><option value="SFM">SFM</option><option value="SI">SI</option>' +
    '<option value="SMF">SMF</option><option value="SOC">SOC</option><option value="SOCWK">SOCWK</option><option value="SPAN">SPAN</option>' +
    '<option value="SPCOM">SPCOM</option><option value="STAT">STAT</option><option value="STV">STV</option><option value="SUSM">SUSM</option>' +
    '<option value="SWK">SWK</option><option value="SWREN">SWREN</option><option value="SYDE">SYDE</option><option value="TAX">TAX</option>' +
    '<option value="THPERF">THPERF</option><option value="TN">TN</option><option value="TOUR">TOUR</option><option value="TS">TS</option>'+
    '<option value="UN">UN</option><option value="UNIV">UNIV</option><option value="VCULT">VCULT</option><option value="WATER">WATER</option>' +
    '<option value="WKRPT">WKRPT</option><option value="WS">WS</option>';

// for (let i = 0; i < subjectCodes.length; i++) subdlHTML += `<option value="${subjectCodes[i]}">${subjectCodes[i]}</option>`;

// Load datalist
document.getElementById('subjects').innerHTML = subdlHTML;

// Get current term code
function getCurTermCode() {
    var termCode = 1000;

    const year = new Date().getFullYear();

    termCode += (year % 100) * 10;

    const month = new Date().getMonth();

    if (month < 9 && month >= 5) termCode += 5;
    else if (month < 5 && month >= 1) termCode += 1;
    else termCode += 9;

    return termCode;
}

// ! Loads courses into database. Do not run unless an update is required.
function loadCourses(key) {
    for (let i = 0; i < subjectCodes.length; i++) {
        const url = `https://openapi.data.uwaterloo.ca/v3/Courses/${curTermCode}/${subjectCodes[i]}`;
        const headers = new Headers();
        const formData = new FormData();

        headers.append('X-API-KEY', key);

        const requestOptions = {
            method: 'GET',
            headers: headers,
            formdata: formData
        }

        fetch(url, requestOptions).then(res => {
            res.json().then((arr) => {
                for (let j = 0; j < arr.length; j++) {
                    const courseId = arr[j].courseId;
                    const subjectCode = arr[j].subjectCode;
                    const catalogNo = arr[j].catalogNumber;
                    const title = arr[j].title;
                    const descAbbr = arr[j].descriptionAbbreviated;

                    db.collection(subjectCode).doc(courseId).set({
                        subjectCode: subjectCode,
                        catalogNo: catalogNo,
                        title: title,
                        descAbbr: descAbbr
                    }).then(() => {
                        console.log(`${subjectCode} ${catalogNo} with CC ${courseId} written to database.`);
                    }).catch((e) => {
                        console.error("Error while writing to database: ", e);
                    })
                }
            });

        }).catch((e) => {
            console.error("Error accessing API: ", e);
        })
    }
}

var curCodes = [];

// Generates HTML for options in database given an array of options
function generateOptions(arr) {
    output = "";

    for (let i = 0; i < arr.length; i++) {
        output += `<option value="${arr[i]}">${arr[i]}</option>`;
    }

    return output;
}

const subjectField = document.getElementById('subjectField');
const numField = document.getElementById('numField');
const submit = document.getElementById('submit');

subjectField.addEventListener('input', () => {
    if (subjectCodes.indexOf(subjectField.value) == -1) {
        numField.disabled = true;

        curCodes = [];
    } else {
        numField.disabled = false;

        curCodes = catalogNumbers[subjectCodes.indexOf(subjectField.value)];
        document.getElementById('catalogNums').innerHTML = generateOptions(curCodes);
    }
});

numField.addEventListener('input', () => {
    if (curCodes.indexOf(numField.value) == -1) {
        submit.disabled = true;
    } else {
        submit.disabled = false;
    }
});

submit.addEventListener('click', () => {
    document.getElementById('tblBody').innerHTML = "";

    db.collection(subjectField.value).where('catalogNo', '==', numField.value).get().then((qs) => {
        var cc = qs.docs[0].id;

        const url = `https://openapi.data.uwaterloo.ca/v3/ClassSchedules/1229/${cc}`;
        const headers = new Headers();

        headers.append('X-API-KEY', '1BA9C32027A0414AA07274555F459683');

        const requestOptions = {
            method: 'GET',
            headers: headers
        }

        fetch(url, requestOptions).then(res => res.json()).then((res) => {
            var arr = res.filter(n => n.courseComponent === 'LEC');
            var outArr = [];

            for (let i = 0; i < arr.length; i++) {
                let cur = arr[i];

                for (let j = 0; j < cur.scheduleData.length; j++) {
                    let cmst = cur.scheduleData[j].classMeetingStartTime;
                    let cmet = cur.scheduleData[j].classMeetingEndTime;

                    cmst = conv24to12(cmst.substring(cmst.indexOf('T') + 1));
                    cmet = conv24to12(cmet.substring(cmet.indexOf('T') + 1));

                    let instData = cur.instructorData[j];
                    let prof = `${instData.instructorLastName}, ${instData.instructorFirstName}`;

                    let loc = cur.scheduleData[j].locationName;

                    let sCode = cur.scheduleData[j].classMeetingWeekPatternCode;
                    console.log(sCode);

                    outArr.push([prof, cmst, cmet, loc, sCode]);
                }
            }

            let rowsHTML = generateRows(outArr);

            for (let i = 0; i < rowsHTML.length; i++) {
                let row = document.createElement('tr');
                row.innerHTML = rowsHTML[i];
                row.id = `row_${i}`;
                document.getElementById('tblBody').appendChild(row);
            }
        });
    });
});

function generateRows(arr) {
    let output = [];

    for (let i = 0; i < arr.length; i++) {
        let row = "";

        for (let j = 0; j < 4; j++) {
            row += `<td ${j == 0 ? 'class="left"' : ""}>${arr[i][j]}</td>`;
        }

        for (let j = 0; j < 7; j++) {
            row += `<td bgcolor="#${arr[i][4].charAt(j) === "Y" ? "00FF00" : "FFFFFF"}"></td>`;
        }

        output.push(row);
    }

    return output;
}

// Implementation from HBP on SOF
function conv24to12(time) {
    // Check correct time format and split into components
  time = time.toString ().match (/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/) || [time];

  if (time.length > 1) { // If time format correct
    time = time.slice (1);  // Remove full string match value
    time[5] = +time[0] < 12 ? ' AM' : ' PM'; // Set AM/PM
    time[0] = +time[0] % 12 || 12; // Adjust hours
  }
  return time.join (''); // return adjusted time or original string
}